{
  "id": "42e89e15-806d-446e-8943-519a1d2f3ee9",
  "prevId": "00000000-0000-0000-0000-000000000000",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.addresses": {
      "name": "addresses",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(64)",
          "primaryKey": true,
          "notNull": true
        },
        "fullAddress": {
          "name": "fullAddress",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "zone": {
          "name": "zone",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "street": {
          "name": "street",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "doorNumber": {
          "name": "doorNumber",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "quartier": {
          "name": "quartier",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "commune": {
          "name": "commune",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "provinceId": {
          "name": "provinceId",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false
        },
        "latitude": {
          "name": "latitude",
          "type": "numeric(10, 8)",
          "primaryKey": false,
          "notNull": false
        },
        "longitude": {
          "name": "longitude",
          "type": "numeric(11, 8)",
          "primaryKey": false,
          "notNull": false
        },
        "emergencyContacts": {
          "name": "emergencyContacts",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        },
        "serviceIcons": {
          "name": "serviceIcons",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        },
        "verificationStatus": {
          "name": "verificationStatus",
          "type": "verificationStatus",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'unverified'"
        },
        "confidenceScore": {
          "name": "confidenceScore",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0.00'"
        },
        "dataSource": {
          "name": "dataSource",
          "type": "dataSource",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'manual_survey'"
        },
        "createdBy": {
          "name": "createdBy",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false
        },
        "verifiedBy": {
          "name": "verifiedBy",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "verifiedAt": {
          "name": "verifiedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "addresses_provinceId_provinces_id_fk": {
          "name": "addresses_provinceId_provinces_id_fk",
          "tableFrom": "addresses",
          "tableTo": "provinces",
          "columnsFrom": [
            "provinceId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "addresses_createdBy_users_id_fk": {
          "name": "addresses_createdBy_users_id_fk",
          "tableFrom": "addresses",
          "tableTo": "users",
          "columnsFrom": [
            "createdBy"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "addresses_verifiedBy_users_id_fk": {
          "name": "addresses_verifiedBy_users_id_fk",
          "tableFrom": "addresses",
          "tableTo": "users",
          "columnsFrom": [
            "verifiedBy"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.aiProcessingJobs": {
      "name": "aiProcessingJobs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(64)",
          "primaryKey": true,
          "notNull": true
        },
        "jobType": {
          "name": "jobType",
          "type": "jobType",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "jobStatus",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "inputData": {
          "name": "inputData",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        },
        "outputData": {
          "name": "outputData",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        },
        "progress": {
          "name": "progress",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0.00'"
        },
        "errorMessage": {
          "name": "errorMessage",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "createdBy": {
          "name": "createdBy",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "completedAt": {
          "name": "completedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "aiProcessingJobs_createdBy_users_id_fk": {
          "name": "aiProcessingJobs_createdBy_users_id_fk",
          "tableFrom": "aiProcessingJobs",
          "tableTo": "users",
          "columnsFrom": [
            "createdBy"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.buildings": {
      "name": "buildings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(64)",
          "primaryKey": true,
          "notNull": true
        },
        "addressId": {
          "name": "addressId",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false
        },
        "detectionMethod": {
          "name": "detectionMethod",
          "type": "detectionMethod",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'manual'"
        },
        "confidenceScore": {
          "name": "confidenceScore",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0.00'"
        },
        "buildingType": {
          "name": "buildingType",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'residential'"
        },
        "floorCount": {
          "name": "floorCount",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "roofMaterial": {
          "name": "roofMaterial",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "polygonData": {
          "name": "polygonData",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "buildings_addressId_addresses_id_fk": {
          "name": "buildings_addressId_addresses_id_fk",
          "tableFrom": "buildings",
          "tableTo": "addresses",
          "columnsFrom": [
            "addressId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.changeLog": {
      "name": "changeLog",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(64)",
          "primaryKey": true,
          "notNull": true
        },
        "addressId": {
          "name": "addressId",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false
        },
        "fieldChanged": {
          "name": "fieldChanged",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "oldValue": {
          "name": "oldValue",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "newValue": {
          "name": "newValue",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "changedBy": {
          "name": "changedBy",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false
        },
        "changedAt": {
          "name": "changedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "changeLog_addressId_addresses_id_fk": {
          "name": "changeLog_addressId_addresses_id_fk",
          "tableFrom": "changeLog",
          "tableTo": "addresses",
          "columnsFrom": [
            "addressId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "changeLog_changedBy_users_id_fk": {
          "name": "changeLog_changedBy_users_id_fk",
          "tableFrom": "changeLog",
          "tableTo": "users",
          "columnsFrom": [
            "changedBy"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.communes": {
      "name": "communes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(64)",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "code": {
          "name": "code",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": true
        },
        "provinceId": {
          "name": "provinceId",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false
        },
        "population": {
          "name": "population",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "communes_provinceId_provinces_id_fk": {
          "name": "communes_provinceId_provinces_id_fk",
          "tableFrom": "communes",
          "tableTo": "provinces",
          "columnsFrom": [
            "provinceId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.photos": {
      "name": "photos",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(64)",
          "primaryKey": true,
          "notNull": true
        },
        "addressId": {
          "name": "addressId",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false
        },
        "url": {
          "name": "url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "photoType",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'survey'"
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "uploadedBy": {
          "name": "uploadedBy",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false
        },
        "uploadedAt": {
          "name": "uploadedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "photos_addressId_addresses_id_fk": {
          "name": "photos_addressId_addresses_id_fk",
          "tableFrom": "photos",
          "tableTo": "addresses",
          "columnsFrom": [
            "addressId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "photos_uploadedBy_users_id_fk": {
          "name": "photos_uploadedBy_users_id_fk",
          "tableFrom": "photos",
          "tableTo": "users",
          "columnsFrom": [
            "uploadedBy"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.provinces": {
      "name": "provinces",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(64)",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "code": {
          "name": "code",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": true
        },
        "population": {
          "name": "population",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "areaSqkm": {
          "name": "areaSqkm",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "capitalCity": {
          "name": "capitalCity",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "mappingProgress": {
          "name": "mappingProgress",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0.00'"
        },
        "targetAddresses": {
          "name": "targetAddresses",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "completedAddresses": {
          "name": "completedAddresses",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "provinces_code_unique": {
          "name": "provinces_code_unique",
          "nullsNotDistinct": false,
          "columns": [
            "code"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.quartiers": {
      "name": "quartiers",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(64)",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "code": {
          "name": "code",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": true
        },
        "communeId": {
          "name": "communeId",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "quartiers_communeId_communes_id_fk": {
          "name": "quartiers_communeId_communes_id_fk",
          "tableFrom": "quartiers",
          "tableTo": "communes",
          "columnsFrom": [
            "communeId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.surveySessions": {
      "name": "surveySessions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(64)",
          "primaryKey": true,
          "notNull": true
        },
        "surveyorId": {
          "name": "surveyorId",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false
        },
        "provinceId": {
          "name": "provinceId",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false
        },
        "startedAt": {
          "name": "startedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "endedAt": {
          "name": "endedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "addressesCollected": {
          "name": "addressesCollected",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "status": {
          "name": "status",
          "type": "surveyStatus",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'active'"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "surveySessions_surveyorId_users_id_fk": {
          "name": "surveySessions_surveyorId_users_id_fk",
          "tableFrom": "surveySessions",
          "tableTo": "users",
          "columnsFrom": [
            "surveyorId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "surveySessions_provinceId_provinces_id_fk": {
          "name": "surveySessions_provinceId_provinces_id_fk",
          "tableFrom": "surveySessions",
          "tableTo": "provinces",
          "columnsFrom": [
            "provinceId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.users": {
      "name": "users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(64)",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "email": {
          "name": "email",
          "type": "varchar(320)",
          "primaryKey": false,
          "notNull": false
        },
        "loginMethod": {
          "name": "loginMethod",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false
        },
        "role": {
          "name": "role",
          "type": "role",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'user'"
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "lastSignedIn": {
          "name": "lastSignedIn",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {
    "public.dataSource": {
      "name": "dataSource",
      "schema": "public",
      "values": [
        "ai_detected",
        "manual_survey",
        "crowdsourced",
        "imported"
      ]
    },
    "public.detectionMethod": {
      "name": "detectionMethod",
      "schema": "public",
      "values": [
        "ai",
        "manual",
        "satellite",
        "survey"
      ]
    },
    "public.jobStatus": {
      "name": "jobStatus",
      "schema": "public",
      "values": [
        "pending",
        "processing",
        "completed",
        "failed"
      ]
    },
    "public.jobType": {
      "name": "jobType",
      "schema": "public",
      "values": [
        "building_detection",
        "address_generation",
        "change_detection"
      ]
    },
    "public.photoType": {
      "name": "photoType",
      "schema": "public",
      "values": [
        "street_sign",
        "building",
        "context",
        "survey"
      ]
    },
    "public.role": {
      "name": "role",
      "schema": "public",
      "values": [
        "user",
        "admin"
      ]
    },
    "public.surveyStatus": {
      "name": "surveyStatus",
      "schema": "public",
      "values": [
        "active",
        "completed",
        "paused"
      ]
    },
    "public.verificationStatus": {
      "name": "verificationStatus",
      "schema": "public",
      "values": [
        "unverified",
        "pending",
        "verified",
        "disputed"
      ]
    }
  },
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}